Index: src/main/java/com/example/web4/service/AttemptService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.web4.service;\n\nimport com.example.web4.models.Attempt;\nimport com.example.web4.models.User;\nimport com.example.web4.repositories.AttemptRepository;\nimport com.example.web4.repositories.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\n\nimport java.security.Principal;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class AttemptService {\n    private final AttemptRepository attemptRepository;\n    private final UserRepository userRepository;\n\n    public List<Attempt> listAttempt(Long id) {\n//        if(id!=null) return Collections.singletonList(attemptRepository.findById(id).orElse(null));\n        return attemptRepository.findAll();\n    }\n\n    public void saveAttempt(Attempt attempt, Principal principal) {\n        attempt.setUser(getUserByPrincipal(principal));\n        //log.info(\"Saving new {}\", attempt);\n        attemptRepository.save(attempt);\n    }\n\n    public User getUserByPrincipal(Principal principal) {\n        if (principal == null) return new User();\n        return userRepository.findByEmail(principal.getName());\n    }\n\n    public List<Attempt> getAttemptsByPrincipal(Principal principal) {\n        User user = getUserByPrincipal(principal);\n        return attemptRepository.findByUser(user);\n    }\n\n    public void deleteAttempt(Long id) {\n        //log.info(\"Delete {}\", id);\n        attemptRepository.deleteById(id);\n    }\n\n    public Attempt getAttemptById(Long id) {\n        return attemptRepository.findById(id).orElse(null);\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/example/web4/service/AttemptService.java b/src/main/java/com/example/web4/service/AttemptService.java
--- a/src/main/java/com/example/web4/service/AttemptService.java	(revision ab8ab0beeb2a47eaac323e32b50eba6ef6934eb3)
+++ b/src/main/java/com/example/web4/service/AttemptService.java	(date 1700835780823)
@@ -5,12 +5,9 @@
 import com.example.web4.repositories.AttemptRepository;
 import com.example.web4.repositories.UserRepository;
 import lombok.RequiredArgsConstructor;
-import lombok.extern.slf4j.Slf4j;
 import org.springframework.stereotype.Service;
 
 import java.security.Principal;
-import java.util.ArrayList;
-import java.util.Collections;
 import java.util.List;
 
 @Service
Index: src/main/java/com/example/web4/controllers/AttemptController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.web4.controllers;\n\nimport com.example.web4.models.Attempt;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.ui.Model;\nimport com.example.web4.service.AttemptService;\n\nimport java.security.Principal;\n\n@Controller\n@RequiredArgsConstructor\npublic class AttemptController {\n    private final AttemptService attemptService;\n\n    @GetMapping(\"/\")\n    public String attempt(Principal principal, Model model){\n        model.addAttribute(\"attempts\", attemptService.getAttemptsByPrincipal(principal));\n        model.addAttribute(\"user\", attemptService.getUserByPrincipal(principal));\n        return \"attempts\";\n    }\n\n    @GetMapping(\"/attempt/{id}\")\n    public String attemptInfo(@PathVariable Long id, Model model) {\n        model.addAttribute(\"attempt\", attemptService.getAttemptById(id));\n        return \"attempt-info\";\n    }\n\n    @PostMapping(\"/attempt/create\")\n    public String createAttempt(Attempt attempt, Principal principal){\n        attemptService.saveAttempt(attempt, principal);\n        return \"redirect:/\";\n    }\n\n    @PostMapping(\"/attempt/delete/{id}\")\n    public String deleteAttempt(@PathVariable Long id) {\n        attemptService.deleteAttempt(id);\n        return \"redirect:/\";\n    }\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/example/web4/controllers/AttemptController.java b/src/main/java/com/example/web4/controllers/AttemptController.java
--- a/src/main/java/com/example/web4/controllers/AttemptController.java	(revision ab8ab0beeb2a47eaac323e32b50eba6ef6934eb3)
+++ b/src/main/java/com/example/web4/controllers/AttemptController.java	(date 1700835780826)
@@ -2,7 +2,6 @@
 
 import com.example.web4.models.Attempt;
 import lombok.RequiredArgsConstructor;
-import lombok.extern.slf4j.Slf4j;
 import org.springframework.stereotype.Controller;
 import org.springframework.web.bind.annotation.*;
 import org.springframework.ui.Model;
@@ -13,8 +12,10 @@
 @Controller
 @RequiredArgsConstructor
 public class AttemptController {
+
     private final AttemptService attemptService;
 
+
     @GetMapping("/")
     public String attempt(Principal principal, Model model){
         model.addAttribute("attempts", attemptService.getAttemptsByPrincipal(principal));
@@ -39,5 +40,4 @@
         attemptService.deleteAttempt(id);
         return "redirect:/";
     }
-
 }
